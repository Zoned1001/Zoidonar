package com.example.adminzoidonar;import android.annotation.SuppressLint;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.ImageButton;import android.widget.TextView;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.DatabaseReference;import com.google.firebase.database.FirebaseDatabase;import com.google.firebase.database.ValueEventListener;import java.util.ArrayList;import java.util.List;public class archiveData extends AppCompatActivity {    ImageButton btnBack;    RecyclerView listDonor;    Button btnRefresh;    TextView baseDate;    DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child("archive");    Intent i;    String basedDate;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_archive_data);        btnBack = (ImageButton) findViewById(R.id.backButton);        listDonor = (RecyclerView) findViewById(R.id.listDonor);        btnRefresh = (Button) findViewById(R.id.btnRefresh);        baseDate = (TextView) findViewById(R.id.baseDate);        i = getIntent();        basedDate = i.getStringExtra("baseDate");        baseDate.setText(basedDate);        btnBack.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                startActivity(new Intent(archiveData.this, adminReport2.class));            }        });        btnRefresh.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                List<String> archiveDataDonorList = new ArrayList<>();                ArchiveAdapter adapter;                listDonor.setLayoutManager(new LinearLayoutManager(archiveData.this));                adapter = new ArchiveAdapter(archiveData.this, archiveDataDonorList, getBaseDate());                listDonor.setAdapter(adapter);                ref.child(basedDate).addValueEventListener(new ValueEventListener() {                    @SuppressLint("NotifyDataSetChanged")                    @Override                    public void onDataChange(@NonNull DataSnapshot snapshot) {                        for (DataSnapshot snap : snapshot.getChildren()) {                            String k = (String) snap.getKey();                            archiveDataDonorList.add(k);                        }                        adapter.notifyDataSetChanged();                    }                    @Override                    public void onCancelled(@NonNull DatabaseError error) {                    }                });            }        });    }    public String getBaseDate() {        return basedDate;    }}